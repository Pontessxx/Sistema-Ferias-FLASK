<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>{{ title or "Sistema de Escala - f√©rias" }}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='styles/styles.css') }}">
</head>
<body>

    <!-- MENU SUPERIOR -->
    <div class="topbar">
        <span class="hamburger" onclick="openMenu()">&#9776;</span>
        Sistema de Escala - f√©rias
        <button id="btnTema" onclick="toggleTema()" 
                style="background:none; border:1px solid #fff; padding:6px 10px; border-radius:6px; color:white; cursor:pointer;">
            üåô
        </button>
    </div>

    <!-- MENU LATERAL -->
    <div id="sidebar" class="sidebar">
        <span class="close-btn" onclick="closeMenu()">&times;</span>
        <a href="/"> In√≠cio</a>
        <a href="/funcionarios"> Funcion√°rios</a>
        <a href="/abono-folga"> Abono e Folga</a>
        <a href="/gantt"> Gr√°fico Anual</a>
    </div>

    <!-- CONTE√öDO -->
    <div class="content">
        {% block content %}{% endblock %}
    </div>

    <script>
        function openMenu() {
            document.getElementById("sidebar").style.width = "260px";
        }
        function closeMenu() {
            document.getElementById("sidebar").style.width = "0";
        }
        document.addEventListener("DOMContentLoaded", () => {
            const temaSalvo = localStorage.getItem("tema") || "light";
            document.documentElement.setAttribute("data-theme", temaSalvo);
            atualizarBotao(temaSalvo);
        });

        function toggleTema() {
            const atual = document.documentElement.getAttribute("data-theme") || "light";
            const novoTema = atual === "light" ? "dark" : "light";

            document.documentElement.setAttribute("data-theme", novoTema);
            localStorage.setItem("tema", novoTema);
            atualizarBotao(novoTema);

            // Se estiver na p√°gina do Gantt ‚Üí recarrega com o tema
            if (window.location.pathname === "/gantt") {
                const url = new URL(window.location.href);
                url.searchParams.set("theme", novoTema);
                window.location.href = url.toString();
            }
        }

        function atualizarBotao(tema) {
            const btn = document.getElementById("btnTema");
            btn.textContent = tema === "dark" ? "‚òÄÔ∏è" : "üåô";
        }
    </script>
    <!-- <script src="https://cdn.plot.ly/plotly-latest.min.js"></script> -->

</body>
</html>
