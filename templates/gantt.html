{% extends "base.html" %}
{% block content %}

<h1>Gráfico Gantt - Férias dos Funcionários</h1>

<!-- ============================================================
     FILTRO DE ANO
     - Opção vazia = ano atual + próximo
     - Se escolher um ano, mostra só aquele ano
   ============================================================ -->
<form method="get" class="form-section" style="margin-bottom: 1rem;">
    <div class="form-group">
        <label for="ano">Ano:</label>
        <select name="ano" id="ano" onchange="this.form.submit()">
            <option value="">
                Ano atual + próximo
            </option>
            {% for a in anos %}
                <option value="{{ a }}"
                    {% if ano_selecionado and ano_selecionado|int == a %}selected{% endif %}>
                    {{ a }}
                </option>
            {% endfor %}
        </select>
    </div>
</form>

<!-- ============================================================
     GRÁFICO
   ============================================================ -->
<div>
    {{ grafico_html | safe }}
</div>

<!-- ============================================================
     LISTA DE FERIADOS
   ============================================================ -->
<h2>Feriados</h2>

<table class="table-holidays">
    {% for data, nome in feriados.items() %}
    <tr>
        <td>{{ data[8:] }} / {{ data[5:7] }}</td>
        <td>{{ nome }}</td>
    </tr>
    {% endfor %}
</table>

{% endblock %}
